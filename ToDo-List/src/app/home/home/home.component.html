<div class="home-container">
  <mat-card class="home-card">
    <mat-card-content>
      <mat-card-actions class="search-container">
        
        <mat-form-field>
          <mat-label>Filter</mat-label>
          <input matInput (keyup)="applyFilter($event)" #input>
        </mat-form-field>
        
        <!--
        <mat-form-field class="search-titles">
          <mat-label>Search</mat-label>
          <input matInput type="text" [(ngModel)]="titleSearchValue">
          <button mat-button *ngIf="titleSearchValue" matSuffix mat-icon-button aria-label="Clear" (click)="clearTitleSearch()">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
        <button mat-flat-button (click)="searchByTitle()">Search</button>
        -->
        
      </mat-card-actions>
      <mat-table [dataSource]="dataSource" matSort matSortActive="position" matSortDirection="asc" matSortDisableClear class="task-table">
          <ng-container matColumnDef="position">
            <mat-header-cell *matHeaderCellDef mat-sort-header> No. </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.position}} </mat-cell>
          </ng-container>
        
          <ng-container matColumnDef="title">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.title}} </mat-cell>
          </ng-container>
        
          <ng-container matColumnDef="description">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Description </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.description}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="estimatedTime">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Estimated Time </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.estimatedTime}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="category">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Category </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.category}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.date}} </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
            <mat-cell *matCellDef="let task"> {{task.status}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="actions">
            <mat-header-cell  *matHeaderCellDef > Actions </mat-header-cell>
            <mat-cell *matCellDef="let row" >
                <button style="margin-right: 2px; margin-left: 2px;" mat-flat-button color="warn" (click)='onDelete(row)'> Delete </button>
                <button style="margin-left: 2px; margin-left: 2px;" mat-flat-button color="accent" (click)='onEdit(row)'> Edit </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowClick(row)"></mat-row>
      </mat-table>
    </mat-card-content>
    <mat-card-actions class="actions-container">
    <button mat-raised-button color="primary" (click)="openDialog()">Add task</button>
    </mat-card-actions>
  </mat-card>
</div>